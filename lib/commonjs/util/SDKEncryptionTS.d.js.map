{"version":3,"names":["encryptFromSDK2","val","key","ewayPublicKeyAttribute","ewayEncryptAttribute","modalCallback","amexECCallback","lastButtonName","lastButtonValue","PUBLIC_KEY_N","PUBLIC_KEY_E","b64tohex","encryptValueApi","toString","Error","keyToUse","rsa","RSAKey","setPublic","encrypt","showModalPaymentApi","config","callback","ifrm","createIFrame","src","getModalUrl","bodyFreezeScroll","encryptForm","event","window","target","srcElement","submitForm","initVars","ewayPNVars","endpoints","defaultEndpoint","modalEndpoints","getVar","name","setVar","value","bodyWidth","$body","offsetWidth","css","style","marginRight","marginTop","overflow","bodyUnfreezeScroll","oldMarginR","oldMarginT","oldOverflow","checkKey","retval","match","input","substr","replace","sum","numdigits","length","parity","i","digit","parseInt","charAt","getEndpoint","canDefault","url","endpoint","toLowerCase","findPayNowTagFromButton","button","getAmount","previousSibling","nodeName","getAttribute","getBaseUrl","tag","base","getPublicAPIKey","findNodesForm","node","max","parentNode","setButtonProcessed","message","ewayActivePayNowButton","btnColor","getButtonProcessedColor","btnTextColor","getButtonTextColor","className","span","firstChild","buttonText","nodeValue","cssText","onclick","createInfoIcon","resultUrl","getResultURL","location","href","buttonsForm","getSubmitForm","addFormAC","submit","setButtonError","getButtonErrorColor","setButtonProcessing","setButtonCancelled","getButtonText","setButtonDisabled","getButtonDisabledColor","addListener","ewayListenerConnected","addEventListener","listenForResult","attachEvent","handleModalMessage","data","handleAmexECMessage","handlePayNowMessage","result","err","origin","removeIFrame","tranid","checkFrameLoad","count","id","loadStatus","setTimeout","addPayNowButton","pk","createButton","getButtonColor","addParam","getCurrency","getInvoiceRef","getEmail","getPhone","getAllowEdit","getInvoiceDesc","label","getLabel","formatMoney","encodeURIComponent","curr","undefined","n","toFixed","extractPublicKey","f","cloneForm","oldForm","newForm","cloneNode","copySelectLists","copyTextAreas","copyCheckboxAndRadioValues","addButton","selectElementsOld","getElementsByTagName","selectElementsNew","selectedIndex","textElementsOld","textElementsNew","inputsOld","inputsNew","type","checked","encryptElement","element","addSubmitEvent","frm","oldonsubmit","onsubmit","e","saveButtonDetails","dbits","canary","j_lm","BigInteger","a","b","c","fromNumber","fromString","nbi","am1","x","w","j","v","Math","floor","am2","xl","xh","l","h","m","am3","navigator","appName","prototype","am","DB","DM","DV","BI_FP","FV","pow","F1","F2","BI_RM","BI_RC","Array","rr","vv","charCodeAt","int2char","intAt","s","bnpCopyTo","r","t","bnpFromInt","nbv","fromInt","bnpFromString","k","fromRadix","mi","sh","clamp","ZERO","subTo","bnpClamp","bnToString","negate","toRadix","km","d","p","bnNegate","bnAbs","bnCompareTo","nbits","bnBitLength","bnpDLShiftTo","bnpDRShiftTo","bnpLShiftTo","bs","cbs","bm","ds","bnpRShiftTo","bnpSubTo","min","bnpMultiplyTo","abs","y","bnpSquareTo","bnpDivRemTo","q","pm","pt","copyTo","ts","ms","nsh","lShiftTo","ys","y0","yt","d1","d2","dlShiftTo","compareTo","ONE","qd","drShiftTo","rShiftTo","bnMod","divRemTo","Classic","cConvert","mod","cRevert","cReduce","cMulTo","multiplyTo","reduce","cSqrTo","squareTo","convert","revert","mulTo","sqrTo","bnpInvDigit","Montgomery","mp","invDigit","mpl","mph","um","mt2","montConvert","montRevert","montReduce","u0","montSqrTo","montMulTo","bnpIsEven","bnpExp","z","r2","g","bnModPowInt","isEven","exp","bitLength","modPowInt","Arcfour","S","ARC4init","ARC4next","init","next","prng_newstate","rng_psize","rng_state","rng_pool","rng_pptr","rng_seed_int","rng_seed_time","Date","getTime","crypto","getRandomValues","ua","Uint8Array","appVersion","random","rng_get_byte","rng_get_bytes","ba","SecureRandom","nextBytes","parseBigInt","str","linebrk","ret","substring","byte2Hex","pkcs1pad2","alert","rng","dmp1","dmq1","coeff","RSASetPublic","N","E","RSADoPublic","RSAEncrypt","text","doPublic","hex2b64","b64map","b64padchar","slop","indexOf","b64toBA"],"sources":["SDKEncryptionTS.d.ts"],"sourcesContent":["export function encryptFromSDK2 (val, key) {\n    \n    var ewayPublicKeyAttribute = \"data-eway-encrypt-key\";\n    var ewayEncryptAttribute = \"data-eway-encrypt-name\";\n    var modalCallback = null;\n    var amexECCallback = null;\n    var lastButtonName = null;\n    var lastButtonValue = null;\n\n    var PUBLIC_KEY_N = null;\n    var PUBLIC_KEY_E = b64tohex(\"AQAB\");\n\n\n\n    // API Entrypoint for Encryption function, Will use key passed in, or the form's key if not supplied.\n    // returns null if no key\n    function encryptValueApi(val, key) {\n        if (typeof val == 'number' && val < 10000) { //Valid CVN should be less than 10000 in number format.\n            val = val.toString();\n        }\n\n        if (typeof val != 'string') {\n            throw new Error(\"The value to be encrypted must be a string type.\");\n        }\n\n        var keyToUse = null;\n        if (key) keyToUse = b64tohex(key);\n        if (!keyToUse) keyToUse = PUBLIC_KEY_N;\n        if (keyToUse) {\n            var rsa = new RSAKey();\n            rsa.setPublic(keyToUse, PUBLIC_KEY_E);\n            return \"eCrypted:\" + rsa.encrypt(val);\n        } else\n            return null;\n    }\n\n    //API Entrypoint to create and show a shared page Modal Payment, calling the given function when the payment completes.\n    function showModalPaymentApi(config, callback) {\n        // only open if not already one open\n        if (!modalCallback) {\n            // create iFrame\n            var ifrm = createIFrame(\"modal\");\n            ifrm.src = getModalUrl(config);\n            bodyFreezeScroll();\n            modalCallback = callback; // set callback\n        }\n        return false;\n    }\n\n\n\n    // This one's called by the handler on the form submit (setup by Init)\n    function encryptForm(event) {\n        event = event || window.event;  // event is undefined in IE\n        var target = event.target || event.srcElement; // IE uses srcElement, everything else uses target\n        return submitForm(target);\n    }\n\n\n\n    // Functions to get and save global Vars and Constants\n    function initVars() {\n        if (!(window.ewayPNVars)) {\n            window.ewayPNVars = {\n                endpoints: {\n                    \"X\": \"https://localhost:44300\",\n                    \"Y\": \"http://rapid-shared-sa.sa.ewaylabs.cloud/sharedpage\",\n                    \"T\": \"http://staging.secure.ewaypayments.com/sharedpage\",\n                    \"U\": \"https://staging.secure-uk.ewaypayments.com/sharedpage\",\n                    \"V\": \"http://api.sandbox.ewaypayments.com/staging-au/sharedpage\",\n                    \"W\": \"https://api.sandbox.ewaypayments.com/staging-uk/sharedpage\",\n                    \"A\": \"https://secure.ewaypayments.com/sharedpage\",\n                    \"B\": \"https://secure-uk.ewaypayments.com/sharedpage\",\n                    \"C\": \"https://secure-au.sandbox.ewaypayments.com/sharedpage\",\n                    \"D\": \"https://secure-uk.sandbox.ewaypayments.com/sharedpage\"\n                },\n\n                defaultEndpoint: \"A\",\n\n                modalEndpoints: {\n                    \"production\": \"https://secure.ewaypayments.com/sharedpage\",\n                    \"sandbox\": \"https://secure-au.sandbox.ewaypayments.com/sharedpage\",\n                    \"production-uk\": \"https://secure-uk.ewaypayments.com/sharedpage\",\n                    \"sandbox-uk\": \"https://secure-uk.sandbox.ewaypayments.com/sharedpage\"\n                }\n            };\n        }\n    }\n\n    function getVar(name) {\n        initVars();\n        return window.ewayPNVars[name];\n    }\n\n    function setVar(name, value) {\n        initVars();\n        window.ewayPNVars[name] = value;\n        return;\n    }\n\n    // var $body = window.document.body;\n\n    function bodyFreezeScroll() {\n        var bodyWidth = $body.offsetWidth;\n        var css = $body.style;\n        setVar(\"saveMarginR\", css.marginRight);\n        setVar(\"saveMarginT\", css.marginTop);\n        setVar(\"saveOverflow\", css.overflow);\n        css.overflow = \"hidden\";\n        css.marginTop = \"0px\"; // Stop IE jump\n        css.marginRight = (css.marginRight ? '+=' : '') + ($body.offsetWidth - bodyWidth);\n    }\n\n    function bodyUnfreezeScroll() {\n        var bodyWidth = $body.offsetWidth;\n        var css = $body.style;\n        var oldMarginR = getVar(\"saveMarginR\");\n        var oldMarginT = getVar(\"saveMarginT\");\n        var oldOverflow = getVar(\"saveOverflow\");\n        css.marginRight = oldMarginR ? oldMarginR : \"\";\n        css.marginTop = oldMarginT ? oldMarginT : \"\";\n        css.overflow = oldOverflow ? oldOverflow : \"\";\n    }\n\n    function checkKey(key) {\n        var retval = null;\n        if (key && key.match(\"epk-[0-9,A-F][A-Z][0-9,A-F]*\")) {\n            // simple luhn style check using hex digits\n            var input = key.substr(4).replace(/[-,G-Z]/g, \"\");\n            var sum = 0;\n            var numdigits = input.length;\n            var parity = numdigits % 2;\n            for (var i = 0; i < numdigits; i++) {\n                var digit = parseInt(input.charAt(i), 16);\n                if (i % 2 == parity) digit *= 2;\n                if (digit > 15) digit -= 15;\n                sum += digit;\n            }\n            retval = ((sum % 16) == 0);\n        }\n        return retval;\n    }\n\n    // Get a PayNowbutton endpoint from the key and the array.\n    function getEndpoint(key, canDefault) {\n        var endpoints = getVar(\"endpoints\");\n        var retval = null;\n        if (checkKey(key)) {\n            retval = endpoints[key.charAt(5)];\n        }\n\n        // defualt if we can (i.e. non critical)\n        if (!retval && canDefault) retval = endpoints[getVar(\"defaultEndpoint\")];\n\n        return retval;\n    }\n\n    //Create a Rapid shared page modal URL from an access code and the settings. will return null on any error.\n    function getModalUrl(config) {\n        var modalEndpoints = getVar(\"modalEndpoints\");\n        var url = null;\n        // First check for a full URL, and sub \n        if (config && config[\"sharedPaymentUrl\"]) {\n            url = config[\"sharedPaymentUrl\"];\n            url = url.replace(/sharedpayment\\?/, \"sharedpayment?v=2&\") + \"&View=Modal\";\n        }\n        else {\n            // Try access code and endpoint\n            if (config && config[\"accessCode\"]) {\n                var endpoint = !config[\"endpoint\"] ? \"production\" : config[\"endpoint\"];\n                url = modalEndpoints[endpoint.toLowerCase()];\n                if (!url) url = endpoint.replace(/\\/$/, \"\"); // no match? use it raw.\n                if (!url.match(/^http/)) url = \"https://\" + url;\n                url += \"/sharedpayment?v=2&AccessCode=\" + config[\"accessCode\"] + \"&View=Modal\";\n            }\n        }\n        return url;\n    }\n\n\n    function findPayNowTagFromButton(button) {\n        // Mods V1.2 Button can now be it's own tag, so we will return the tag with the config info (which may be the button)\n        if (button && getAmount(button)) {\n            return button;\n        }\n        else {\n            if (button && button.previousSibling) {\n                if (button.previousSibling.nodeName == \"SCRIPT\" && button.previousSibling.getAttribute(\"class\") == \"eway-paynow-button\")\n                    return button.previousSibling;\n            }\n        }\n        return null;\n    }\n\n    // returns the shared page base URL (for this tag)\n    function getBaseUrl(tag) {\n        var base = tag.src;\n        if (base.match(/sharedpage/i)) {\n            base = base.replace(/sharedpage.*/i, \"sharedpage\");\n        }\n        else {\n            base = getEndpoint(getPublicAPIKey(tag), true);\n        }\n        return base;\n    }\n\n    function findNodesForm(node) {\n        var max = 50; // saftey\n        while (node && node.nodeName != \"FORM\" && max-- > 0) {\n            node = node.parentNode;\n        }\n        return node;\n    }\n\n\n\n    function setButtonProcessed(message) {\n        if (window.ewayActivePayNowButton) {\n            var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n            var btnColor = getButtonProcessedColor(tag);\n            var btnTextColor = getButtonTextColor(tag);\n            window.ewayActivePayNowButton.className = \"eway-button processed\";\n            var span = window.ewayActivePayNowButton.firstChild;\n            var buttonText = (window.ewayActivePayNowButton.firstChild) ? window.ewayActivePayNowButton.firstChild.firstChild : null;\n            if (buttonText) buttonText.nodeValue = \"Processing Complete\";\n            if (span) {\n                span.style.cssText = \"display: block; min-height:30px;\";\n                if (btnColor) span.style.cssText += \" background: \" + btnColor;\n                if (btnTextColor) span.style.cssText += \" color: \" + btnTextColor;\n            }\n            window.ewayActivePayNowButton.onclick = null; // disable\n            // Show the transaction ID/receipt num\n            createInfoIcon(window.ewayActivePayNowButton, \"Your transaction has been accepted for processing. \" + message.replace(\"ID:\", \"Receipt Number:\").replace(/,AC:.*/, \"\"));\n            // two options Redirect to result page with Access Code in URL if specified) or submit\n            var resultUrl = getResultURL(tag);\n            if (resultUrl) {\n                window.location.href = resultUrl + ((resultUrl.match(/\\?/)) ? '&' : '?') + 'AccessCode=' + message.replace(/ID:.*,AC:/, \"\");\n            }\n            else {\n                // submit the form if specified\n                var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n                var buttonsForm = findNodesForm(window.ewayActivePayNowButton);\n                var submitForm = getSubmitForm(tag);\n                if (buttonsForm && !(submitForm == \"false\" || submitForm == \"no\")) {\n                    addFormAC(buttonsForm, message);\n                    buttonsForm.submit();\n                }\n            }\n        }\n    }\n\n    function setButtonError(message) {\n        if (window.ewayActivePayNowButton) {\n            var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n            var btnColor = getButtonErrorColor(tag);\n            var btnTextColor = getButtonTextColor(tag);\n            window.ewayActivePayNowButton.className = \"eway-button error\";\n            var span = window.ewayActivePayNowButton.firstChild;\n            var buttonText = (window.ewayActivePayNowButton.firstChild) ? window.ewayActivePayNowButton.firstChild.firstChild : null;\n            if (buttonText) buttonText.nodeValue = \"Processing Error\";\n            if (span) {\n                span.style.cssText = \"display: block; min-height:30px;\";\n                if (btnColor) span.style.cssText += \" background: \" + btnColor;\n                if (btnTextColor) span.style.cssText += \" color: \" + btnTextColor;\n            }\n            window.ewayActivePayNowButton.onclick = null; // disable\n            // Show the transaction ID/receipt num\n            createInfoIcon(window.ewayActivePayNowButton, \"Unable to process Transaction. Error Message: \" + message);\n        }\n    }\n\n    function setButtonProcessing() {\n        if (window.ewayActivePayNowButton) {\n            window.ewayActivePayNowButton.className = \"eway-button processing\";\n            var buttonText = (window.ewayActivePayNowButton.firstChild) ? window.ewayActivePayNowButton.firstChild.firstChild : null;\n            if (buttonText) buttonText.nodeValue = \"Loading Payment...\";\n        }\n    }\n\n    function setButtonCancelled() {\n        if (window.ewayActivePayNowButton) {\n            window.ewayActivePayNowButton.className = \"eway-button\";\n            var buttonText = (window.ewayActivePayNowButton.firstChild) ? window.ewayActivePayNowButton.firstChild.firstChild : null;\n            if (buttonText) buttonText.nodeValue = getButtonText(findPayNowTagFromButton(window.ewayActivePayNowButton));\n        }\n    }\n\n    function setButtonDisabled(message) {\n        if (window.ewayActivePayNowButton) {\n            var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n            var btnColor = getButtonDisabledColor(tag);\n            var btnTextColor = getButtonTextColor(tag);\n            window.ewayActivePayNowButton.className = \"eway-button disabled\";\n            window.ewayActivePayNowButton.style.cssText = \"visibility: visible;\" + (btnColor) ? \" background: \" + btnColor : \"\";\n            var span = window.ewayActivePayNowButton.firstChild;\n            if (span) {\n                span.style.cssText = \"display: block; min-height:30px;\";\n                if (btnColor) span.style.cssText += \" background: \" + btnColor;\n                if (btnTextColor) span.style.cssText += \" color: \" + btnTextColor;\n            }\n            window.ewayActivePayNowButton.onclick = null; // disable\n            createInfoIcon(window.ewayActivePayNowButton, message);\n        }\n    }\n\n\n    function addListener() {\n        if (!window.ewayListenerConnected) {\n            if (window.addEventListener) {\n                addEventListener(\"message\", listenForResult, false);\n            } else {\n                attachEvent(\"onmessage\", listenForResult);\n            }\n            window.ewayListenerConnected = true;\n        }\n    }\n\n\n    //This is the main handler for all browser messages (from Paynow buttons and Modals)\n    function listenForResult(event) {\n        // will fire once for every button that is clicked or modal that's created\n        if (modalCallback) {\n            handleModalMessage(event);\n        }\n        else if (amexECCallback && (event.data.match(/amexec/g) || event.data.match(/error_code/g))) {\n            handleAmexECMessage(event);\n        }\n        else {\n            handlePayNowMessage(event);\n        }\n    }\n\n    //Handle a message from AmexEC button.\n    function handleAmexECMessage(event) {\n        var result = \"\";\n        var err = \"\";\n        if ((event.origin.match(/ewaypayments.com/) || event.origin.match(/localhost:44300/) || event.origin.match(/ewaylabs.cloud$/)) && !event.data.match(/error_code/g) && event.data.match(/amexec/g) && event.data.length > 6) {\n            setVar(\"FrameLoad\", \"ok\");\n            result = \"Complete\";\n            err = \"\";\n        }\n        else {\n            // clear iFrame, restore page, set errors\n            result = \"Error\";\n            err = \"Sorry we were unable to process the payment, please select an alternative payment method.\";\n            setVar(\"FrameLoad\", \"error\");\n            removeIFrame(\"amex_ec\");\n\n        }\n        if (amexECCallback) {\n            amexECCallback(result, err, event.data);\n            amexECCallback = null;\n        }\n    }\n\n    //Handle a message from a result page for a Pay Now button.\n    function handlePayNowMessage(event) {\n        var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n        if (tag) {\n            // ignore LoadOK\n            if (!(event.data.match(/^LoadOK/i))) {\n                var key = getPublicAPIKey(tag);\n                if (event.origin.match(/ewaypayments.com/) || event.origin.match(/localhost:44300/) || event.origin.match(/ewaylabs.cloud$/)) {\n                    if (event.data == \"Cancel\") {\n                        setButtonCancelled();\n                    }\n                    else if (event.data.match(/^Error:/i)) {\n                        setButtonError(event.data.replace(/^Error:/, \"\"));\n                    } else {\n                        setButtonProcessed(event.data);\n                    }\n                    // clear iFrame \n                    removeIFrame(\"eway-payment-window\");\n                }\n            }\n        }\n    }\n\n    //Handle a Modal message (both from the result page, and the load page to detect 401's)\n    function handleModalMessage(event) {\n        // will fire once for the first appropriate message that comes in.\n        if (event.origin.match(/ewaypayments.com/) || event.origin.match(/localhost:44300/) || event.origin.match(/ewaylabs.cloud$/)) {\n            // ignore LoadOK\n            if (event.data.match(/^LoadOK/i)) {\n                setVar(\"FrameLoad\", \"ok\");\n            }\n            else {\n                // clear iFrame restore page\n                setVar(\"FrameLoad\", \"ok\");\n                removeIFrame(\"eway-payment-window\");\n                // decode message and fire the call back, then clear the variable\n                var result = \"Complete\";\n                var err = \"\";\n                var tranid = \"\";\n                if (event.data == \"Cancel\") {\n                    result = \"Cancel\";\n                }\n                else if (event.data.match(/^Error:/i)) {\n                    result = \"Error\";\n                    err = event.data.replace(/^Error:/, \"\");\n                } else {\n                    tranid = (event.data.match(/^ID:([0-9]*),AC:.*/)) ? event.data.match(/^ID:([0-9]*),AC:.*/)[1] : \"\";\n                }\n                if (modalCallback) {\n                    modalCallback(result, tranid, err);\n                    modalCallback = null;\n                }\n            }\n        }\n    }\n\n\n    //This function checks for a loadOK message from the iFrame. will retry while it's pending\n    // It only starts once the frame is loaded, so should be set to a reasonable time \n    function checkFrameLoad(count, id) {\n        var loadStatus = getVar(\"FrameLoad\");\n        if (count-- > 0 && loadStatus && loadStatus == \"pending\") {\n            setTimeout(checkFrameLoad, 250, count); //wait some more\n        }\n        else {\n            // Done waiting or state change, still pending? close frame and call callback\n            if (loadStatus && loadStatus == \"pending\") {\n                removeIFrame(id);\n                if (modalCallback) {\n                    modalCallback(\"Error\", \"\", \"Error loading payment modal, Invalid or missing access code.\");\n                    modalCallback = null;\n                }\n                if (amexECCallback) {\n                    amexECCallback(\"Error\", \"\", \"Error loading AmexEC button, Invalid or missing access code.\");\n                    amexECCallback = null;\n                }\n            }\n        }\n    }\n\n\n\n    function addPayNowButton(tag) {\n        var pk = getPublicAPIKey(tag);\n        var endpoint = getEndpoint(pk);\n        if (endpoint) {\n            var button = createButton(tag, getButtonText(tag), getButtonColor(tag), getButtonTextColor(tag));\n            button.onclick = function () {\n                window.ewayActivePayNowButton = button;\n                setButtonProcessing();\n                // create iFrame\n                var ifrm = createIFrame(\"modal\");\n                var url = endpoint + \"/sharedpayment?PublicAPIKey=\" + getPublicAPIKey(tag) +\n                    addParam(\"Amount\", getAmount(tag)) +\n                    addParam(\"Currency\", getCurrency(tag)) +\n                    addParam(\"InvoiceRef\", getInvoiceRef(tag)) +\n                    addParam(\"Email\", getEmail(tag)) +\n                    addParam(\"Phone\", getPhone(tag)) +\n                    addParam(\"Edit\", getAllowEdit(tag)) +\n                    addParam(\"ResultUrl\", getResultURL(tag)) +\n                    addParam(\"InvoiceDesc\", getInvoiceDesc(tag));\n                ifrm.src = url;\n                bodyFreezeScroll();\n                return false;\n            };\n        }\n        else {\n            // no endpoint means an error in Config somewhere, show a disabled Button\n            var button = createButton(tag, getButtonText(tag), getButtonDisabledColor(tag), getButtonTextColor(tag));\n            window.ewayActivePayNowButton = button;\n            setButtonDisabled(\"Configuration Error: Invalid or missing Public API Key\");\n        }\n    }\n\n    function getButtonText(tag) {\n        var label = getLabel(tag);\n        if (!label) label = \"Pay Now\";\n        if (!(label.match(/#amount#/i))) label += \" (#amount#)\";\n        return label.replace(/#amount#/ig, formatMoney(getAmount(tag) / 100.0, getCurrency(tag)));\n    }\n\n    function addParam(name, value) {\n        return (value) ? \"&\" + name + \"=\" + encodeURIComponent(value) : \"\";\n    }\n\n    function getAmount(tag) {\n        return tag.getAttribute(\"data-amount\");\n    }\n\n    function getCurrency(tag) {\n        var curr = tag.getAttribute(\"data-currency\");\n        return curr == undefined ? \"\" : curr;\n    }\n\n    function getPublicAPIKey(tag) {\n        return tag.getAttribute(\"data-publicapikey\");\n    }\n\n    function getInvoiceRef(tag) {\n        return tag.getAttribute(\"data-invoiceref\");\n    }\n\n    function getEmail(tag) {\n        return tag.getAttribute(\"data-email\");\n    }\n\n    function getPhone(tag) {\n        return tag.getAttribute(\"data-phone\");\n    }\n\n    function getInvoiceDesc(tag) {\n        return tag.getAttribute(\"data-invoicedescription\");\n    }\n\n    function getAllowEdit(tag) {\n        return tag.getAttribute(\"data-allowedit\");\n    }\n\n    function getResultURL(tag) {\n        return tag.getAttribute(\"data-resulturl\");\n    }\n\n    function getLabel(tag) {\n        return (!tag) ? null : tag.getAttribute(\"data-label\");\n    }\n\n    function getSubmitForm(tag) {\n        if (!tag || !(tag.getAttribute(\"data-submitform\"))) return \"true\";\n        return tag.getAttribute(\"data-submitform\");\n    }\n\n    function getButtonColor(tag) {\n        return tag.getAttribute(\"data-buttoncolor\");\n    }\n\n    function getButtonErrorColor(tag) {\n        return tag.getAttribute(\"data-buttonerrorcolor\");\n    }\n\n    function getButtonProcessedColor(tag) {\n        return tag.getAttribute(\"data-buttonprocessedcolor\");\n    }\n\n    function getButtonDisabledColor(tag) {\n        return tag.getAttribute(\"data-buttondisabledcolor\");\n    }\n\n    function getButtonTextColor(tag) {\n        return tag.getAttribute(\"data-buttontextcolor\");\n    }\n\n    function formatMoney(n, curr) {\n        return (curr == \"GBP\" ? \"\\u00A3\" : \"$$\") + n.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n    }\n\n    // Start Encrypt\n    function extractPublicKey(f) {\n        PUBLIC_KEY_N = b64tohex(f.getAttribute(ewayPublicKeyAttribute));\n    }\n\n    function cloneForm(oldForm) {\n        var newForm = oldForm.cloneNode(true);\n        copySelectLists(oldForm, newForm);\n        copyTextAreas(oldForm, newForm);\n        copyCheckboxAndRadioValues(oldForm, newForm);\n        addButton(oldForm, newForm);\n        return newForm;\n    }\n\n    function copySelectLists(oldForm, newForm) {\n        var selectElementsOld = oldForm.getElementsByTagName('Select');\n        var selectElementsNew = newForm.getElementsByTagName('Select');\n\n        for (var i = 0; i < selectElementsOld.length; i++) {\n            selectElementsNew[i].selectedIndex = selectElementsOld[i].selectedIndex;\n        }\n    }\n\n    function copyTextAreas(oldForm, newForm) {\n        var textElementsOld = oldForm.getElementsByTagName('TextArea');\n        var textElementsNew = newForm.getElementsByTagName('TextArea');\n\n        for (var i = 0; i < textElementsOld.length; i++) {\n            textElementsNew[i].value = textElementsOld[i].value;\n        }\n    }\n\n    function copyCheckboxAndRadioValues(oldForm, newForm) {\n        var inputsOld = oldForm.getElementsByTagName('input');\n        var inputsNew = newForm.getElementsByTagName('input');\n\n        for (var i = 0; i < inputsOld.length; i++) {\n            if (inputsOld[i].type === 'checkbox' || inputsOld[i].type === 'radio') {\n                inputsNew[i].checked = inputsOld[i].checked; // Need this for IE\n                inputsNew[i].value = inputsOld[i].value; // Need this for IE10\n            }\n        }\n    }\n\n\n\n    function encryptElement(element, rsa) {\n        if (element.id) {\n            element.id = \"EWAY_ENCRYPTED_\" + element.id;\n        }\n        element.name = element.getAttribute(ewayEncryptAttribute);\n        element.value = \"eCrypted:\" + rsa.encrypt(element.value);\n    }\n\n    function addSubmitEvent(frm) {\n        var oldonsubmit = frm.onsubmit;\n        if (typeof frm.onsubmit != 'function') {\n            frm.onsubmit = encryptForm;\n        } else {\n            frm.onsubmit = function (e) {\n                if (!oldonsubmit(e)) {\n                    return false;\n                }\n                return encryptForm(e);\n            };\n        }\n    }\n\n    //Event attached to each submit button\n    function saveButtonDetails(e) {\n        if (e.target) {\n            lastButtonName = e.target.name;  // normal sensible browsers\n            lastButtonValue = e.target.value;\n        } else {\n            lastButtonName = e.srcElement.name;  // IE8-9 :-(\n            lastButtonValue = e.srcElement.value;\n        }\n    }\n\n\n\n\n// Start jsbn.js\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = ((canary & 0xffffff) == 0xefcafe);\n\n// (public) Constructor\nfunction BigInteger(a, b, c) {\n    if (a != null)\n        if (\"number\" == typeof a) this.fromNumber(a, b, c);\n        else if (b == null && \"string\" != typeof a) this.fromString(a, 256);\n        else this.fromString(a, b);\n}\n\n// return new, unset BigInteger\nfunction nbi() { return new BigInteger(null); }\n\n\nfunction am1(i, x, w, j, c, n) {\n    while (--n >= 0) {\n        var v = x * this[i++] + w[j] + c;\n        c = Math.floor(v / 0x4000000);\n        w[j++] = v & 0x3ffffff;\n    }\n    return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n    var xl = x & 0x7fff, xh = x >> 15;\n    while (--n >= 0) {\n        var l = this[i] & 0x7fff;\n        var h = this[i++] >> 15;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n        c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n        w[j++] = l & 0x3fffffff;\n    }\n    return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n    var xl = x & 0x3fff, xh = x >> 14;\n    while (--n >= 0) {\n        var l = this[i] & 0x3fff;\n        var h = this[i++] >> 14;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n        c = (l >> 28) + (m >> 14) + xh * h;\n        w[j++] = l & 0xfffffff;\n    }\n    return c;\n}\nif (j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\n    BigInteger.prototype.am = am2;\n    dbits = 30;\n}\nelse if (j_lm && (navigator.appName != \"Netscape\")) {\n    BigInteger.prototype.am = am1;\n    dbits = 26;\n}\nelse { // Mozilla/Netscape seems to prefer am3\n    BigInteger.prototype.am = am3;\n    dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = ((1 << dbits) - 1);\nBigInteger.prototype.DV = (1 << dbits);\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr, vv;\nrr = \"0\".charCodeAt(0);\nfor (vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\nrr = \"a\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\nrr = \"A\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n\nfunction int2char(n) {var BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\"; return BI_RM.charAt(n); }\nfunction intAt(s, i) {\n    var c = BI_RC[s.charCodeAt(i)];\n    return (c == null) ? -1 : c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n    for (var i = this.t - 1; i >= 0; --i) r[i] = this[i];\n    r.t = this.t;\n    r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n    this.t = 1;\n    this.s = (x < 0) ? -1 : 0;\n    if (x > 0) this[0] = x;\n    else if (x < -1) this[0] = x + this.DV;\n    else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n\n// (protected) set from string and radix\nfunction bnpFromString(s, b) {\n    var k;\n    if (b == 16) k = 4;\n    else if (b == 8) k = 3;\n    else if (b == 256) k = 8; // byte array\n    else if (b == 2) k = 1;\n    else if (b == 32) k = 5;\n    else if (b == 4) k = 2;\n    else { this.fromRadix(s, b); return; }\n    this.t = 0;\n    this.s = 0;\n    var i = s.length, mi = false, sh = 0;\n    while (--i >= 0) {\n        var x = (k == 8) ? s[i] & 0xff : intAt(s, i);\n        if (x < 0) {\n            if (s.charAt(i) == \"-\") mi = true;\n            continue;\n        }\n        mi = false;\n        if (sh == 0)\n            this[this.t++] = x;\n        else if (sh + k > this.DB) {\n            this[this.t - 1] |= (x & ((1 << (this.DB - sh)) - 1)) << sh;\n            this[this.t++] = (x >> (this.DB - sh));\n        }\n        else\n            this[this.t - 1] |= x << sh;\n        sh += k;\n        if (sh >= this.DB) sh -= this.DB;\n    }\n    if (k == 8 && (s[0] & 0x80) != 0) {\n        this.s = -1;\n        if (sh > 0) this[this.t - 1] |= ((1 << (this.DB - sh)) - 1) << sh;\n    }\n    this.clamp();\n    if (mi) BigInteger.ZERO.subTo(this, this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n    var c = this.s & this.DM;\n    while (this.t > 0 && this[this.t - 1] == c) --this.t;\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n    if (this.s < 0) return \"-\" + this.negate().toString(b);\n    var k;\n    if (b == 16) k = 4;\n    else if (b == 8) k = 3;\n    else if (b == 2) k = 1;\n    else if (b == 32) k = 5;\n    else if (b == 4) k = 2;\n    else return this.toRadix(b);\n    var km = (1 << k) - 1, d, m = false, r = \"\", i = this.t;\n    var p = this.DB - (i * this.DB) % k;\n    if (i-- > 0) {\n        if (p < this.DB && (d = this[i] >> p) > 0) { m = true; r = int2char(d); }\n        while (i >= 0) {\n            if (p < k) {\n                d = (this[i] & ((1 << p) - 1)) << (k - p);\n                d |= this[--i] >> (p += this.DB - k);\n            }\n            else {\n                d = (this[i] >> (p -= k)) & km;\n                if (p <= 0) { p += this.DB; --i; }\n            }\n            if (d > 0) m = true;\n            if (m) r += int2char(d);\n        }\n    }\n    return m ? r : \"0\";\n}\n\n// (public) -this\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this, r); return r; }\n\n// (public) |this|\nfunction bnAbs() { return (this.s < 0) ? this.negate() : this; }\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n    var r = this.s - a.s;\n    if (r != 0) return r;\n    var i = this.t;\n    r = i - a.t;\n    if (r != 0) return (this.s < 0) ? -r : r;\n    while (--i >= 0) if ((r = this[i] - a[i]) != 0) return r;\n    return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n    var r = 1, t;\n    if ((t = x >>> 16) != 0) { x = t; r += 16; }\n    if ((t = x >> 8) != 0) { x = t; r += 8; }\n    if ((t = x >> 4) != 0) { x = t; r += 4; }\n    if ((t = x >> 2) != 0) { x = t; r += 2; }\n    if ((t = x >> 1) != 0) { x = t; r += 1; }\n    return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n    if (this.t <= 0) return 0;\n    return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ (this.s & this.DM));\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n, r) {\n    var i;\n    for (i = this.t - 1; i >= 0; --i) r[i + n] = this[i];\n    for (i = n - 1; i >= 0; --i) r[i] = 0;\n    r.t = this.t + n;\n    r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n, r) {\n    for (var i = n; i < this.t; ++i) r[i - n] = this[i];\n    r.t = Math.max(this.t - n, 0);\n    r.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n, r) {\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << cbs) - 1;\n    var ds = Math.floor(n / this.DB), c = (this.s << bs) & this.DM, i;\n    for (i = this.t - 1; i >= 0; --i) {\n        r[i + ds + 1] = (this[i] >> cbs) | c;\n        c = (this[i] & bm) << bs;\n    }\n    for (i = ds - 1; i >= 0; --i) r[i] = 0;\n    r[ds] = c;\n    r.t = this.t + ds + 1;\n    r.s = this.s;\n    r.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n, r) {\n    r.s = this.s;\n    var ds = Math.floor(n / this.DB);\n    if (ds >= this.t) { r.t = 0; return; }\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << bs) - 1;\n    r[0] = this[ds] >> bs;\n    for (var i = ds + 1; i < this.t; ++i) {\n        r[i - ds - 1] |= (this[i] & bm) << cbs;\n        r[i - ds] = this[i] >> bs;\n    }\n    if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n    r.t = this.t - ds;\n    r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a, r) {\n    var i = 0, c = 0, m = Math.min(a.t, this.t);\n    while (i < m) {\n        c += this[i] - a[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n    }\n    if (a.t < this.t) {\n        c -= a.s;\n        while (i < this.t) {\n            c += this[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c += this.s;\n    }\n    else {\n        c += this.s;\n        while (i < a.t) {\n            c -= a[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c -= a.s;\n    }\n    r.s = (c < 0) ? -1 : 0;\n    if (c < -1) r[i++] = this.DV + c;\n    else if (c > 0) r[i++] = c;\n    r.t = i;\n    r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a, r) {\n    var x = this.abs(), y = a.abs();\n    var i = x.t;\n    r.t = i + y.t;\n    while (--i >= 0) r[i] = 0;\n    for (i = 0; i < y.t; ++i) r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n    r.s = 0;\n    r.clamp();\n    if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n    var x = this.abs();\n    var i = r.t = 2 * x.t;\n    while (--i >= 0) r[i] = 0;\n    for (i = 0; i < x.t - 1; ++i) {\n        var c = x.am(i, x[i], r, 2 * i, 0, 1);\n        if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n            r[i + x.t] -= x.DV;\n            r[i + x.t + 1] = 1;\n        }\n    }\n    if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n    r.s = 0;\n    r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m, q, r) {\n    var pm = m.abs();\n    if (pm.t <= 0) return;\n    var pt = this.abs();\n    if (pt.t < pm.t) {\n        if (q != null) q.fromInt(0);\n        if (r != null) this.copyTo(r);\n        return;\n    }\n    if (r == null) r = nbi();\n    var y = nbi(), ts = this.s, ms = m.s;\n    var nsh = this.DB - nbits(pm[pm.t - 1]);\t// normalize modulus\n    if (nsh > 0) { pm.lShiftTo(nsh, y); pt.lShiftTo(nsh, r); }\n    else { pm.copyTo(y); pt.copyTo(r); }\n    var ys = y.t;\n    var y0 = y[ys - 1];\n    if (y0 == 0) return;\n    var yt = y0 * (1 << this.F1) + ((ys > 1) ? y[ys - 2] >> this.F2 : 0);\n    var d1 = this.FV / yt, d2 = (1 << this.F1) / yt, e = 1 << this.F2;\n    var i = r.t, j = i - ys, t = (q == null) ? nbi() : q;\n    y.dlShiftTo(j, t);\n    if (r.compareTo(t) >= 0) {\n        r[r.t++] = 1;\n        r.subTo(t, r);\n    }\n    BigInteger.ONE.dlShiftTo(ys, t);\n    t.subTo(y, y);\t// \"negative\" y so we can replace sub with am later\n    while (y.t < ys) y[y.t++] = 0;\n    while (--j >= 0) {\n        // Estimate quotient digit\n        var qd = (r[--i] == y0) ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n        if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\t// Try it out\n            y.dlShiftTo(j, t);\n            r.subTo(t, r);\n            while (r[i] < --qd) r.subTo(t, r);\n        }\n    }\n    if (q != null) {\n        r.drShiftTo(ys, q);\n        if (ts != ms) BigInteger.ZERO.subTo(q, q);\n    }\n    r.t = ys;\n    r.clamp();\n    if (nsh > 0) r.rShiftTo(nsh, r);\t// Denormalize remainder\n    if (ts < 0) BigInteger.ZERO.subTo(r, r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n    var r = nbi();\n    this.abs().divRemTo(a, null, r);\n    if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n    return r;\n}\n\n// Modular reduction using \"classic\" algorithm\nfunction Classic(m) { this.m = m; }\nfunction cConvert(x) {\n    if (x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n    else return x;\n}\nfunction cRevert(x) { return x; }\nfunction cReduce(x) { x.divRemTo(this.m, null, x); }\nfunction cMulTo(x, y, r) { x.multiplyTo(y, r); this.reduce(r); }\nfunction cSqrTo(x, r) { x.squareTo(r); this.reduce(r); }\n\nClassic.prototype.convert = cConvert;\nClassic.prototype.revert = cRevert;\nClassic.prototype.reduce = cReduce;\nClassic.prototype.mulTo = cMulTo;\nClassic.prototype.sqrTo = cSqrTo;\n\n\nfunction bnpInvDigit() {\n    if (this.t < 1) return 0;\n    var x = this[0];\n    if ((x & 1) == 0) return 0;\n    var y = x & 3;\t\t// y == 1/x mod 2^2\n    y = (y * (2 - (x & 0xf) * y)) & 0xf;\t// y == 1/x mod 2^4\n    y = (y * (2 - (x & 0xff) * y)) & 0xff;\t// y == 1/x mod 2^8\n    y = (y * (2 - (((x & 0xffff) * y) & 0xffff))) & 0xffff;\t// y == 1/x mod 2^16\n    // last step - calculate inverse mod DV directly;\n    // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n    y = (y * (2 - x * y % this.DV)) % this.DV;\t\t// y == 1/x mod 2^dbits\n    // we really want the negative inverse, and -DV < y < DV\n    return (y > 0) ? this.DV - y : -y;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n    this.m = m;\n    this.mp = m.invDigit();\n    this.mpl = this.mp & 0x7fff;\n    this.mph = this.mp >> 15;\n    this.um = (1 << (m.DB - 15)) - 1;\n    this.mt2 = 2 * m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n    var r = nbi();\n    x.abs().dlShiftTo(this.m.t, r);\n    r.divRemTo(this.m, null, r);\n    if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n    return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n    var r = nbi();\n    x.copyTo(r);\n    this.reduce(r);\n    return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n    while (x.t <= this.mt2)\t// pad x so am has enough room later\n        x[x.t++] = 0;\n    for (var i = 0; i < this.m.t; ++i) {\n        // faster way of calculating u0 = x[i]*mp mod DV\n        var j = x[i] & 0x7fff;\n        var u0 = (j * this.mpl + (((j * this.mph + (x[i] >> 15) * this.mpl) & this.um) << 15)) & x.DM;\n        // use am to combine the multiply-shift-add into one call\n        j = i + this.m.t;\n        x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n        // propagate carry\n        while (x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\n    }\n    x.clamp();\n    x.drShiftTo(this.m.t, x);\n    if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x, r) { x.squareTo(r); this.reduce(r); }\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x, y, r) { x.multiplyTo(y, r); this.reduce(r); }\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (protected) true iff this is even\nfunction bnpIsEven() { return ((this.t > 0) ? (this[0] & 1) : this.s) == 0; }\n\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\nfunction bnpExp(e, z) {\n    if (e > 0xffffffff || e < 1) return BigInteger.ONE;\n    var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e) - 1;\n    g.copyTo(r);\n    while (--i >= 0) {\n        z.sqrTo(r, r2);\n        if ((e & (1 << i)) > 0) z.mulTo(r2, g, r);\n        else { var t = r; r = r2; r2 = t; }\n    }\n    return z.revert(r);\n}\n\n// (public) this^e % m, 0 <= e < 2^32\nfunction bnModPowInt(e, m) {\n    var z;\n    if (e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n    return this.exp(e, z);\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.isEven = bnpIsEven;\nBigInteger.prototype.exp = bnpExp;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.modPowInt = bnModPowInt;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);\n\n\n// prng4.js - uses Arcfour as a PRNG\n\nfunction Arcfour() {\n    this.i = 0;\n    this.j = 0;\n    this.S = new Array();\n}\n\n// Initialize arcfour context from key, an array of ints, each from [0..255]\nfunction ARC4init(key) {\n    var i, j, t;\n    for (i = 0; i < 256; ++i)\n        this.S[i] = i;\n    j = 0;\n    for (i = 0; i < 256; ++i) {\n        j = (j + this.S[i] + key[i % key.length]) & 255;\n        t = this.S[i];\n        this.S[i] = this.S[j];\n        this.S[j] = t;\n    }\n    this.i = 0;\n    this.j = 0;\n}\n\nfunction ARC4next() {\n    var t;\n    this.i = (this.i + 1) & 255;\n    this.j = (this.j + this.S[this.i]) & 255;\n    t = this.S[this.i];\n    this.S[this.i] = this.S[this.j];\n    this.S[this.j] = t;\n    return this.S[(t + this.S[this.i]) & 255];\n}\n\nArcfour.prototype.init = ARC4init;\nArcfour.prototype.next = ARC4next;\n\n// Plug in your RNG constructor here\nfunction prng_newstate() {\n    return new Arcfour();\n}\n\n// Pool size must be a multiple of 4 and greater than 32.\n// An array of bytes the size of the pool will be passed to init()\nvar rng_psize = 256;\n\nvar rng_state;\nvar rng_pool;\nvar rng_pptr;\n\n// Mix in a 32-bit integer into the pool\nfunction rng_seed_int(x) {\n    rng_pool[rng_pptr++] ^= x & 255;\n    rng_pool[rng_pptr++] ^= (x >> 8) & 255;\n    rng_pool[rng_pptr++] ^= (x >> 16) & 255;\n    rng_pool[rng_pptr++] ^= (x >> 24) & 255;\n    if (rng_pptr >= rng_psize) rng_pptr -= rng_psize;\n}\n\n// Mix in the current time (w/milliseconds) into the pool\nfunction rng_seed_time() {\n    rng_seed_int(new Date().getTime());\n}\n\n// Initialize the pool with junk if needed.\nif (rng_pool == null) {\n    rng_pool = new Array();\n    rng_pptr = 0;\n    var t;\n    if (window.crypto && window.crypto.getRandomValues) {\n        // Use webcrypto if available\n        var ua = new Uint8Array(32);\n        window.crypto.getRandomValues(ua);\n        for (t = 0; t < 32; ++t)\n            rng_pool[rng_pptr++] = ua[t];\n    }\n    if (navigator.appName == \"Netscape\" && navigator.appVersion < \"5\" && window.crypto) {\n        // Extract entropy (256 bits) from NS4 RNG if available\n        var z = window.crypto.random(32);\n        for (t = 0; t < z.length; ++t)\n            rng_pool[rng_pptr++] = z.charCodeAt(t) & 255;\n    }\n    while (rng_pptr < rng_psize) {  // extract some randomness from Math.random()\n        t = Math.floor(65536 * Math.random());\n        rng_pool[rng_pptr++] = t >>> 8;\n        rng_pool[rng_pptr++] = t & 255;\n    }\n    rng_pptr = 0;\n    rng_seed_time();\n\n}\n\nfunction rng_get_byte() {\n    if (rng_state == null) {\n        rng_seed_time();\n        rng_state = prng_newstate();\n        rng_state.init(rng_pool);\n        for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n            rng_pool[rng_pptr] = 0;\n        rng_pptr = 0;\n        //rng_pool = null;\n    }\n    return rng_state.next();\n}\n\nfunction rng_get_bytes(ba) {\n    var i;\n    for (i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n}\n\nfunction SecureRandom() { }\n\nSecureRandom.prototype.nextBytes = rng_get_bytes;\n\n\n\nfunction parseBigInt(str, r) {\n    return new BigInteger(str, r);\n}\n\nfunction linebrk(s, n) {\n    var ret = \"\";\n    var i = 0;\n    while (i + n < s.length) {\n        ret += s.substring(i, i + n) + \"\\n\";\n        i += n;\n    }\n    return ret + s.substring(i, s.length);\n}\n\nfunction byte2Hex(b) {\n    if (b < 0x10)\n        return \"0\" + b.toString(16);\n    else\n        return b.toString(16);\n}\n\n// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\nfunction pkcs1pad2(s, n) {\n    if (n < s.length + 11) {\n        alert(\"Message too long for RSA\");\n        return null;\n    }\n    var ba = new Array();\n    var i = s.length - 1;\n    while (i >= 0 && n > 0) {\n        var c = s.charCodeAt(i--);\n        if (c < 128) { // encode using utf-8\n            ba[--n] = c;\n        }\n        else if ((c > 127) && (c < 2048)) {\n            ba[--n] = (c & 63) | 128;\n            ba[--n] = (c >> 6) | 192;\n        }\n        else {\n            ba[--n] = (c & 63) | 128;\n            ba[--n] = ((c >> 6) & 63) | 128;\n            ba[--n] = (c >> 12) | 224;\n        }\n    }\n    ba[--n] = 0;\n    var rng = new SecureRandom();\n    var x = new Array();\n    while (n > 2) { // random non-zero pad\n        x[0] = 0;\n        while (x[0] == 0) rng.nextBytes(x);\n        ba[--n] = x[0];\n    }\n    ba[--n] = 2;\n    ba[--n] = 0;\n    return new BigInteger(ba);\n}\n\n// \"empty\" RSA key constructor\nfunction RSAKey() {\n    this.n = null;\n    this.e = 0;\n    this.d = null;\n    this.p = null;\n    this.q = null;\n    this.dmp1 = null;\n    this.dmq1 = null;\n    this.coeff = null;\n}\n\n// Set the public key fields N and e from hex strings\nfunction RSASetPublic(N, E) {\n    if (N != null && E != null && N.length > 0 && E.length > 0) {\n        this.n = parseBigInt(N, 16);\n        this.e = parseInt(E, 16);\n    }\n    else\n        alert(\"Invalid RSA public key\");\n}\n\n// Perform raw public operation on \"x\": return x^e (mod n)\nfunction RSADoPublic(x) {\n    return x.modPowInt(this.e, this.n);\n}\n\n// Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\nfunction RSAEncrypt(text) {\n    var m = pkcs1pad2(text, (this.n.bitLength() + 7) >> 3);\n    if (m == null) return null;\n    var c = this.doPublic(m);\n    if (c == null) return null;\n    var h = c.toString(16);\n    if ((h.length & 1) == 0) return hex2b64(h); else return hex2b64(\"0\" + h);\n}\n\n\n\n// protected\nRSAKey.prototype.doPublic = RSADoPublic;\n\n// public\nRSAKey.prototype.setPublic = RSASetPublic;\nRSAKey.prototype.encrypt = RSAEncrypt;\n\n// base64.js\n\nvar b64map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar b64padchar = \"=\";\n\nfunction hex2b64(h) {\n    var i;\n    var c;\n    var ret = \"\";\n    for (i = 0; i + 3 <= h.length; i += 3) {\n        c = parseInt(h.substring(i, i + 3), 16);\n        ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\n    }\n    if (i + 1 == h.length) {\n        c = parseInt(h.substring(i, i + 1), 16);\n        ret += b64map.charAt(c << 2);\n    }\n    else if (i + 2 == h.length) {\n        c = parseInt(h.substring(i, i + 2), 16);\n        ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\n    }\n    while ((ret.length & 3) > 0) ret += b64padchar;\n    return ret;\n}\n\n// convert a base64 string to hex\nfunction b64tohex(s) {\n    var b64map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var b64padchar = \"=\";\n    var ret = \"\"\n    var i;\n    var k = 0; // b64 state, 0-3\n    var slop;\n    for (i = 0; i < s.length; ++i) {\n        if (s.charAt(i) == b64padchar) break;\n        v = b64map.indexOf(s.charAt(i));\n        if (v < 0) continue;\n        if (k == 0) {\n            ret += int2char(v >> 2);\n            slop = v & 3;\n            k = 1;\n        }\n        else if (k == 1) {\n            ret += int2char((slop << 2) | (v >> 4));\n            slop = v & 0xf;\n            k = 2;\n        }\n        else if (k == 2) {\n            ret += int2char(slop);\n            ret += int2char(v >> 2);\n            slop = v & 3;\n            k = 3;\n        }\n        else {\n            ret += int2char((slop << 2) | (v >> 4));\n            ret += int2char(v & 0xf);\n            k = 0;\n        }\n    }\n    if (k == 1)\n        ret += int2char(slop << 2);\n    return ret;\n}\n\n// convert a base64 string to a byte/number array\nfunction b64toBA(s) {\n    //piggyback on b64tohex for now, optimize later\n    var h = b64tohex(s);\n    var i;\n    var a = new Array();\n    for (i = 0; 2 * i < h.length; ++i) {\n        a[i] = parseInt(h.substring(2 * i, 2 * i + 2), 16);\n    }\n    return a;\n}\n\nreturn encryptValueApi(val, key);\n}\n"],"mappings":"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","ignoreList":[]}